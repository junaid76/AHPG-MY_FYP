<!DOCTYPE html>
<html  lang="eng">
   <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <meta name="theme-color" content="#3196F3">
  <title>AHSG</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link rel="manifest" href="/manifest.json">
            <!--ios support-->
  <link rel="apple-touch-icon" href="/images/PNG/logo9696.png">
  <link rel="icon" 
      type="image/png" 
      href="/images/PNG/logo9696.png">
  <meta name="apple-mobile-web-app-status-bar" content="#aa7700">
  
    <!-- font  -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

   
</head>
    <body>

     <!---Navbar start-->

      <nav class="blue " role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo"><img class="imagelogo" src="/images/Asset 2 1.png"></a>
      <ul class="right hide-on-med-and-down">
        <li><a href="/index.html">Home</a></li>
         <li><a href="#services">Services</a></li>
          <li><a href="#about">About</a></li>
          <li class="logged-in" style="display: none;" ><a href="modal-login"  data-target="modal-login" class="btn-small blue hoverable modal-trigger">Sign In</a></li>
          <li class="logged-out" style="display: none;" ><a href="/index.html"  class="btn-small blue hoverable logout">LogOut</a></li>
          <li class="logged-in" style="display: none;" ><a href="#"  data-target="modal-paramedic" id="logout" class="btn-small blue hoverable modal-trigger">Paramedic</a></li>
<!-- style="display: none;" -->
      </ul>
       

      <ul id="nav-mobile" class="blue sidenav">
        <li><a class="text" href="/index.html" >Home</a></li>
         <li><a class="text" href="#services" >Services</a></li>
          <li><a class="text" href="#about">About</a></li>
          <li class="logged-in" style="display: none;" ><a href="modal-login"   data-target="modal-login" class="btn-small blue hoverable modal-trigger">Sign In</a></li>
          <li class="logged-out" style="display: none;" ><a href="/index.html"  class="btn-small blue hoverable logout">LogOut</a></li>
           <li class="logged-in" style="display: none;" ><a href="#" data-target="modal-paramedic" id="logout" class="btn-small blue hoverable modal-trigger">Paramedic</a></li>
      </ul>
      <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
    </div>
       </nav>

           <!---Navbar End-->

                                




                                      <!-- SIGN UP MODAL -->
  <div id="modal-signup" class="modal">
    <div class="modal-content">
      <h4>Sign up</h4><br />
      <form id="signup-form">
        <div class="input-field">
          <input type="email" id="signup-email" required />
          <label for="signup-email">Email address</label>
        </div>
        <div class="input-field">
          <input type="password" id="signup-password" required />
          <label for="signup-password">Choose password</label>
        </div>
        <div class="input-field">
          <input type="password" id="confirm-password" required />
          <label data-error="Password not match" data-success="Password Match" for="signup-password">Confirm password</label>
        </div>
        <button class="btn blue  darken-2 z-depth-0">Sign up</button>
      </form>
    </div>
  </div>

   <!-- LOGIN MODAL -->
  <div id="modal-login" class="modal">
    <div class="modal-content">
      <h4>Login</h4><br />
      <form id="login-form">
        <div class="input-field">
          <input type="email" id="login-email" required />
          <label for="login-email">Email address</label>
        </div>
        <div class="input-field">
          <input type="password" id="login-password" required />
          <label for="login-password">Your password</label>
        </div>
        <button class="btn blue  darken-2 z-depth-0">Login</button>
      </form>
    </div>
  </div>


                                        <!-- paramedic MODAL -->
  <div id="modal-paramedic" class="modal">
    <div class="modal-content">
      <h4>Paramedic</h4><br />
      <form id="paramedic-form">
        <div class="input-field">
          <input type="text" id="fullnamep" required />
          <label for="signup-email">Full Name</label>
        </div>
        <div class="input-field">
          <input type="number" id="phonenop" required />
          <label for="phoneno">PhoneNo</label>
        </div>
        <div class="input-field">
          <textarea id="addressp" class="materialize-textarea" required></textarea>
          <label for="address">Address</label>
        </div>
         <div class="row">
              <div class="input-field col s12">
              <select type="text" id="diploma" >
      <option value="" disabled selected>select your Diploma</option>
      <option value="1">O.T.T</option>
      <option value="2">Lab Tech.</option>
      <option value="3">Xray Tech.</option>
        <option value="4">Dispenser</option>
      <option value="5">Dresser</option>
      <option value="6">ECG Tech.</option>
       
                </select>
              
                </div>
           
          </div>
        
        <button id="applybtn" class="btn blue  darken-2 z-depth-0" >Apply</button>
      </form>
    </div>
  </div>
   


              <!--tabs start-->
    
      <div class="row">
    <div class="col s12">
      <ul class="tabs">
        <li class="tab col s3" ><a   href="/pages/admin.html">User Requests</a></li>
                <li class="tab col s3" ><a  class="active">LabTestRequests</a></li>
        <li class="tab col s3"><a    href="/pages/admin.html">Paramadics</a></li>
        <li class="tab col s3"><a  onclick="SelectAllDataParamedic()"  href="/pages/admin.html">ParamadicsApplications</a></li>
        <li class="tab col s3"><a onclick=""   ></a></li>
       
      </ul>

    </div>
     <li class="col s3"><a href="/pages/admin.html">UserRequests</a></li>
 
   </div>


  
   
   <div  style="overflow-x:auto;">
    <h4>LabTests Requests</h4>
      <table >
       <thead>
           <tr>
             <th>SNO</th>
        <th>Address</th>
        <th>PatientAge</th>
        <th>PhoneNo</th>
        <th>UserNeed</th>
        <th>Lab</th>
        <th>Date&Time</th>
        <th>Actions</th>
           </tr>
       
       
       
       </thead>
       <tbody  id="tbody4">
        
       </tbody>
       </table>

   </div>


  


   



  
   <!-- <button >click</button> -->
  
      
   
   <!-- <h4>ParamedicApplications</h4>
   <button class="btn blue" onclick="SelectAllDataParamedic()">Applications</button>
    <table   >
       <thead>
           <th>SNO</th>
        <th>Address</th>
       <th>Diploma</th>
       <th>FUllName</th>
       <th>PhoneNo</th>
     
       </thead>
       <tbody id="tbody2">
          
          
       </tbody>
      
   </table> -->

                                       <!--tabs end-->


<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-database.js"></script>



<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyCj9GuNL09BagKySNGlQ04ZbiAexUqiglU",
    authDomain: "alliedhealthservices-fee6a.firebaseapp.com",
    databaseURL: "https://alliedhealthservices-fee6a-default-rtdb.firebaseio.com",
    projectId: "alliedhealthservices-fee6a",
    storageBucket: "alliedhealthservices-fee6a.appspot.com",
    messagingSenderId: "1005602570512",
    appId: "1:1005602570512:web:8f80598925daf2ded96595",
    measurementId: "G-G1MTTJJZFL"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
  const auth = firebase.auth();
  const db = firebase.firestore();
    //  const database = firebase.database();

  function SelectAllDataUser()

{
    database.ref('labtests').on('value',
    function(AllRecords){
        AllRecords.forEach(
            function(CurrentRecord){
                var Address1 = CurrentRecord.val().Address;
                var PatientAge1 = CurrentRecord.val().PatientAge;
                var PhoneNo1 = CurrentRecord.val().PhoneNo;
                var Labtest1 = CurrentRecord.val().Lab;
                var UserNeed1 = CurrentRecord.val().UserNeed;

                var DateTime1 = CurrentRecord.val().DateTime;
              

                AddItemToTable(Address1,PatientAge1,PhoneNo1,UserNeed1,Labtest1,DateTime1);
             
            }
        );
           
    })
    
}
 var userNo = 0;
 
window.onload = SelectAllDataUser;




function AddItemToTable(Address1,PatientAge1,PhoneNo1,UserNeed1,Labtest1,DateTime1){
    var tbody = document.getElementById('tbody4');
    var trow = document.createElement('tr');
    var td1 = document.createElement('td');
    var td2 = document.createElement('td');
    var td3 = document.createElement('td');
    var td4 = document.createElement('td');
    var td5 = document.createElement('td');
    var td6 = document.createElement('td');
    var td7 = document.createElement('td');
        var td8 = document.createElement('td');
   
    td1.innerHTML = ++userNo;
    td2.innerHTML = Address1;
    td3.innerHTML = PatientAge1;
    td4.innerHTML = PhoneNo1;
    td5.innerHTML = UserNeed1;
    
    td6.innerHTML = Labtest1;
    td7.innerHTML = DateTime1;
    td8.innerHTML = '<button name="Delete"  value='+PhoneNo1+' id="btndelete"  name="btn">Delete</button>  </br> ';
    // td7.innerHTML = '<button id="btnassign"  name="btn">Assign</button>';
    trow.appendChild(td1);
    trow.appendChild(td2);
    trow.appendChild(td3);
    trow.appendChild(td4);
    trow.appendChild(td5);
    trow.appendChild(td6);
    trow.appendChild(td7);
    trow.appendChild(td8);
    tbody.appendChild(trow);
  // var uid = user.getUid();
    $( "#btndelete" ).click(function deletedata() {
      firebase.database().ref('userneed/' + $(this).val()).set(null, (error) => {
        if (error) {
    // The write failed...
         } else {
             // var tbody = document.getElementById('tbody1');
              //  tbody = '';
    // Data saved successfully!
         alert("Deleted succesfully");
        
           SelectAllDataUser();
         }
           });
  //  let userRef = firebase.database().ref('userneed' + '03456786789');
  //  console.log(userRef);
  //  console.log("userRef");
  //  userRef.remove();
  
 // alert( "Handler for .click() called." );
});
}



// function deletedata(){
//     let userRef = this.database.ref('userneed' + userId);
//     userRef.remove();
// }


///////////////////////////////////////paramedicdata////////////////////////////////////////////

  function SelectAllDataParamedic()

{
    database.ref('paramedics').on('value',
    function(AllRecords){
        AllRecords.forEach(
            function(CurrentRecord){
                var Address = CurrentRecord.val().Address;
                var diploma = CurrentRecord.val().Diploma;
                var name = CurrentRecord.val().FUllName;
                var PhoneNo1 = CurrentRecord.val().PhoneNo;
                var datetime = CurrentRecord.val().DateTime;
                AddItemToTable1(Address,diploma,name,PhoneNo1,datetime);
             
            }
        );
           
    })
    
}
var sno = 0;
// window.onload = SelectAllDataParamedic;

function AddItemToTable1(Address,diploma,name,PhoneNo1,datetime){
    var tbody = document.getElementById('tbody2');
    var trow = document.createElement('tr');
    var td1 = document.createElement('td');
    var td2 = document.createElement('td');
    var td3 = document.createElement('td');
    var td4 = document.createElement('td');
    var td5 = document.createElement('td');
     var td6 = document.createElement('td');
      var td7 = document.createElement('td');
    
    td1.innerHTML = ++sno;
    td2.innerHTML = Address;
    td3.innerHTML = diploma;
    td4.innerHTML = name;
    td5.innerHTML = PhoneNo1;
     td6.innerHTML = datetime;
     td7.innerHTML = '<button id="btndeletep" value='+PhoneNo1+'  name="btn">Delete</button>';
   
    trow.appendChild(td1);
    trow.appendChild(td2);
    trow.appendChild(td3);
    trow.appendChild(td4);
    trow.appendChild(td5);
    trow.appendChild(td6);
    trow.appendChild(td7);
    tbody.appendChild(trow);

        $( "#btndeletep" ).click(function deletedata() {
      firebase.database().ref('paramedics/' + $(this).val()).set(null, (error) => {
        if (error) {
    // The write failed...
         } else {
             // var tbody = document.getElementById('tbody1');
              //  tbody = '';
    // Data saved successfully!
         alert("Deleted succesfully");
        
           
         }
           });
  //  let userRef = firebase.database().ref('userneed' + '03456786789');
  //  console.log(userRef);
  //  console.log("userRef");
  //  userRef.remove();
  
 // alert( "Handler for .click() called." );
});
 
}
 


</script>
                     


        <script src="/js/auth.js"></script>
        <script src="/js/db.js"></script>
         <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
          <script src="/js/app.js"></script>
             <script src="/js/index.js"></script>
               <script src="/js/materialize.min.js"></script>
                <script src="/js/ui.js"></script>
   
 
    
  
  
  
    

    </body>

</html>